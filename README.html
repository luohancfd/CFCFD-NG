<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.4.5" />
<title>The Compressible-Flow CFD code collection</title>
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revnumber, span#revdate, span#revremark {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.5em;
  margin-bottom: 2.5em;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock {
  padding-left: 2.0em;
  margin-right: 10%;
}
div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock {
  padding-left: 2.0em;
  margin-right: 10%;
}
div.verseblock > div.content {
  white-space: pre;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 2px solid silver;
}

div.exampleblock > div.content {
  border-left: 2px solid silver;
  padding: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead {
  font-family: sans-serif;
  font-weight: bold;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

@media print {
  div#footer-badges { display: none; }
}

div#toctitle {
  color: #527bbd;
  font-family: sans-serif;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}
/* Workarounds for IE6's broken and incomplete CSS2. */

div.sidebar-content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}
div.sidebar-title, div.image-title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  margin-top: 0.0em;
  margin-bottom: 0.5em;
}

div.listingblock div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock-attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock-content {
  white-space: pre;
}
div.verseblock-attribution {
  padding-top: 0.75em;
  text-align: left;
}

div.exampleblock-content {
  border-left: 2px solid silver;
  padding-left: 0.5em;
}

/* IE6 sets dynamically generated links as visited. */
div#toc a:visited { color: blue; }
</style>
</head>
<body>
<div id="header">
<h1>The Compressible-Flow CFD code collection</h1>
<span id="author">Peter Jacobs and Rowan Gollan</span><br />
<span id="email"><tt>&lt;<a href="mailto:peterj@mech.uq.edu.au">peterj@mech.uq.edu.au</a>&gt;</tt></span><br />
</div>
<h2 id="_the_codes">The codes</h2>
<div class="sectionbody">
<div class="ulist"><div class="title">The main codes are found in the app subdirectory.</div><ul>
<li>
<p>
<strong>bos</strong>: Background-oriented schlieren (current but needs maintenance; new numpy)
</p>
</li>
<li>
<p>
<strong>elmer</strong>: The first version of our time-dependent 3D flow simulation code.
  C version built for LES simulations. (obsolete)
</p>
</li>
<li>
<p>
<strong>elmer2</strong>: Second version using libgas2 thermochemsitry and written in C++.
  (obsolete)
</p>
</li>
<li>
<p>
<strong>eilmer3</strong>: The current compresible-flow Navier-Stokes simulation code
  for 2D and 3D flows.
  This has the best bits of mbcns2 and elmer2, together with a rebuilt
  thermochemistry module.
  We have changed the name to Eilmer, the correct spelling of the name of the
  patron monk of CFD and aeronautics.
  See the wikipedia article <a href="http://en.wikipedia.org/wiki/Eilmer_of_Malmesbury">http://en.wikipedia.org/wiki/Eilmer_of_Malmesbury</a>
</p>
</li>
<li>
<p>
<strong>imoc</strong>: interactive method-of-characteristics code, written in C+Tcl.
</p>
</li>
<li>
<p>
<strong>L1d</strong>: Lagrangian simulation of quasi-one-dimensional flow. (obsolete)
</p>
</li>
<li>
<p>
<strong>L1d2</strong>: second version of this code build with libgas2 thermochemistry.
  Written in C++. (current)
</p>
</li>
<li>
<p>
<strong>mb_cns</strong>: Multiple-block compressible Navier-Stokes flow simulator.
  This is the code corresponding to the 1996 report. (obsolete)
</p>
</li>
<li>
<p>
<strong>mbcns2</strong>: second version using libgas2 and written in C++. (obsolete)
</p>
</li>
<li>
<p>
<strong>newt</strong>: Newtonian flow approximation for hypersonics flows.
</p>
</li>
<li>
<p>
<strong>octvce</strong>: Joseph&#8217;s fast Euler code with hierarchical adaptive grid for 3D flows.
</p>
</li>
<li>
<p>
<strong>poshax</strong>: one-dimensional flow with complex thermochemistry.
</p>
</li>
<li>
<p>
<strong>sdas</strong>: firmware for simple data acquisition system for student Zuni projects.
</p>
</li>
<li>
<p>
<strong>sf3d_v4.1</strong>: Ian Johnston&#8217;s shock-fitting code for 3D flow.
</p>
</li>
<li>
<p>
<strong>sm_3d_plus</strong>: space-marching code for 3D flow.
  (obsolete now that block-sequencing is part of eilmer3)
</p>
</li>
<li>
<p>
<strong>tds</strong>: tunnel data server, software for both the server and the client
</p>
</li>
</ul></div>
</div>
<h2 id="_getting_the_simulation_codes">Getting the simulation codes</h2>
<div class="sectionbody">
<div class="paragraph"><p>The top-level repository doesn&#8217;t have many files in itself.
Most of the interesting stuff is in the sub-repositories:
app, doc, examples and lib.
One may get a complete working copy via http-based checkout
(with read-only access).</p></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cd <span style="color: #009900">$HOME</span>
svn checkout --username cfcfd http<span style="color: #990000">:</span>//triton<span style="color: #990000">.</span>pselab<span style="color: #990000">.</span>uq<span style="color: #990000">.</span>edu<span style="color: #990000">.</span>au/repos/cfcfd<span style="color: #993399">2</span> cfcfd2
cd cfcfd2
svn checkout http<span style="color: #990000">:</span>//triton<span style="color: #990000">.</span>pselab<span style="color: #990000">.</span>uq<span style="color: #990000">.</span>edu<span style="color: #990000">.</span>au/repos-cfcfd<span style="color: #993399">2</span>/app app
svn checkout http<span style="color: #990000">:</span>//triton<span style="color: #990000">.</span>pselab<span style="color: #990000">.</span>uq<span style="color: #990000">.</span>edu<span style="color: #990000">.</span>au/repos-cfcfd<span style="color: #993399">2</span>/lib lib
svn checkout http<span style="color: #990000">:</span>//triton<span style="color: #990000">.</span>pselab<span style="color: #990000">.</span>uq<span style="color: #990000">.</span>edu<span style="color: #990000">.</span>au/repos-cfcfd<span style="color: #993399">2</span>/examples examples
svn checkout http<span style="color: #990000">:</span>//triton<span style="color: #990000">.</span>pselab<span style="color: #990000">.</span>uq<span style="color: #990000">.</span>edu<span style="color: #990000">.</span>au/repos-cfcfd<span style="color: #993399">2</span>/doc doc</tt></pre></div></div>
<div class="ulist"><div class="title">Notes</div><ul>
<li>
<p>
When prompted, the password is: cfd-socks
</p>
</li>
<li>
<p>
There is a hyphen between repos and cfcfd2 for the second through fifth
checkouts.
</p>
</li>
</ul></div>
</div>
<h2 id="_getting_the_simulation_codes_8201_8212_8201_developers">Getting the simulation codes&#8201;&#8212;&#8201;Developers</h2>
<div class="sectionbody">
<div class="paragraph"><p>Developers should get the most up-to-date code using bazaar-ng.
To get (read-only) access via http, use the command:</p></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cd <span style="color: #009900">$HOME</span>
bzr branch http<span style="color: #990000">:</span>//cfcfdlocal@triton<span style="color: #990000">.</span>pselab<span style="color: #990000">.</span>uq<span style="color: #990000">.</span>edu<span style="color: #990000">.</span>au/bzr-cfcfd<span style="color: #993399">2</span> cfcfd2</tt></pre></div></div>
<div class="ulist"><div class="title">Notes</div><ul>
<li>
<p>
You will need a password for bzr access.  Please ask.
</p>
</li>
<li>
<p>
To push code changes, you will need access via ssh.
</p>
</li>
</ul></div>
</div>
<h2 id="_your_build_environment">Your build environment</h2>
<div class="sectionbody">
<div class="paragraph"><p>The code collection comes as source code only so,
to use any of them, you will need to compile and install them.</p></div>
<div class="olist arabic"><div class="title">To build and run the newer codes, you will need the following:</div><ol class="arabic">
<li>
<p>
a Unix-like system with GNU-make, C and C++ compilers
</p>
</li>
<li>
<p>
popt (command-line parser) library and development files
</p>
</li>
<li>
<p>
readline library (including the header files, libreadline5-dev on Ubuntu)
</p>
</li>
<li>
<p>
Python + (with the numpy extension)
</p>
</li>
<li>
<p>
SWIG
</p>
</li>
<li>
<p>
Tcl/Tk + the BWidget library (to run the GUI program e3console.tcl)
</p>
</li>
</ol></div>
<div class="paragraph"><p>We have been able to get the programs to build on Linux, MacOS-X
(with a recent Xcode development environment) and Cygwin 1.7 (on MS-Windows).</p></div>
<div class="paragraph"><p>On MS-Windows, install the full kit of Cygwin (Python, X-Windows and all)
and be careful not to have another Python installed outside of Cygwin.
The multiple installations of Python seem not to play well together.</p></div>
<div class="olist arabic"><div class="title">Some other things that are useful:</div><ol class="arabic">
<li>
<p>
awk
</p>
</li>
<li>
<p>
MetaPost (mpost) or, more recently, InkScape (for looking at and editing svg files)
</p>
</li>
<li>
<p>
GNUplot
</p>
</li>
<li>
<p>
Paraview or MayaVi or VisIt
</p>
</li>
</ol></div>
<div class="olist arabic"><div class="title">To a basic Fedora 16 installation, you should add the following packages:</div><ol class="arabic">
<li>
<p>
bzr
</p>
</li>
<li>
<p>
gcc
</p>
</li>
<li>
<p>
gcc-c++
</p>
</li>
<li>
<p>
m4
</p>
</li>
<li>
<p>
gcc-gfortran
</p>
</li>
<li>
<p>
swig
</p>
</li>
<li>
<p>
python-devel
</p>
</li>
<li>
<p>
readline-devel (for Lua)
</p>
</li>
<li>
<p>
popt-devel
</p>
</li>
</ol></div>
<div class="olist arabic"><div class="title">To a basic Ubuntu 10.04 installation, you should add the following packages and their dependencies:</div><ol class="arabic">
<li>
<p>
bzr
</p>
</li>
<li>
<p>
bzrtools
</p>
</li>
<li>
<p>
g++
</p>
</li>
<li>
<p>
m4
</p>
</li>
<li>
<p>
mpi-default-dev
</p>
</li>
<li>
<p>
gfortran
</p>
</li>
<li>
<p>
swig
</p>
</li>
<li>
<p>
python-dev
</p>
</li>
<li>
<p>
python-numpy
</p>
</li>
<li>
<p>
libreadline-dev
</p>
</li>
<li>
<p>
libpopt-dev
</p>
</li>
<li>
<p>
tk
</p>
</li>
<li>
<p>
bwidget
</p>
</li>
<li>
<p>
gnuplot
</p>
</li>
</ol></div>
</div>
<h2 id="_typical_build_and_run_procedures">Typical build and run procedures</h2>
<div class="sectionbody">
<h3 id="_mbcns2_2d_flow_simulation">mbcns2 (2D flow simulation)</h3><div style="clear:left"></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cd <span style="color: #009900">$HOME</span>/cfcfd<span style="color: #993399">2</span>/app/mbcns<span style="color: #993399">2</span>/build
make
make install
make clean
cd <span style="color: #009900">$HOME</span>/cfcfd<span style="color: #993399">2</span>/lib/plot/build
make
make install
make clean</tt></pre></div></div>
<div class="paragraph"><p>You may need to add the installation directory to your system&#8217;s
search path and to Lua&#8217;s search path.
On a recent Linux system, this could be done by adding the lines</p></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">export</span></span> <span style="color: #009900">PATH</span><span style="color: #990000">=</span><span style="color: #009900">${PATH}:${HOME}</span>/cfd_bin
<span style="font-weight: bold"><span style="color: #0000FF">export</span></span> <span style="color: #009900">LUA_PATH</span><span style="color: #990000">=</span><span style="color: #009900">${HOME}</span>/cfd_bin<span style="color: #990000">/?.</span>lua
<span style="font-weight: bold"><span style="color: #0000FF">export</span></span> <span style="color: #009900">LUA_CPATH</span><span style="color: #990000">=</span><span style="color: #009900">${HOME}</span>/cfd_bin<span style="color: #990000">/?.</span>so</tt></pre></div></div>
<div class="paragraph"><p>to the .bash_profile file in your home directory.</p></div>
<div class="paragraph"><p>Then, try out the cone20 example.</p></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>mkdir <span style="color: #009900">$HOME</span>/work<span style="color: #990000">;</span> cd <span style="color: #009900">$HOME</span>/work
mkdir cone20<span style="color: #990000">;</span> cd cone20
cp <span style="color: #009900">$HOME</span>/cfcfd<span style="color: #993399">2</span>/examples/mbcns<span style="color: #993399">2</span>/cone<span style="color: #993399">20</span><span style="color: #990000">/*</span> <span style="color: #990000">.</span>
<span style="color: #990000">.</span>/cone20_run<span style="color: #990000">.</span>sh
<span style="color: #990000">.</span>/cone20_plot<span style="color: #990000">.</span>sh</tt></pre></div></div>
<div class="paragraph"><p>This should generate a few postscript figures of the starting flow
about a sharp 20-degree cone.</p></div>
<h3 id="_elmer2">Elmer2</h3><div style="clear:left"></div>
<div class="paragraph"><p>This 3D-flow code is built similarly.
For running on the blackhole cluster:</p></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cd <span style="color: #009900">$HOME</span>/cfcfd<span style="color: #993399">2</span>/app/elmer<span style="color: #993399">2</span>/build
module load openmpi<span style="color: #990000">/</span><span style="color: #993399">1.2</span>-gnu-<span style="color: #993399">4.1</span>
module load swig
module load lua
make <span style="color: #009900">TARGET</span><span style="color: #990000">=</span>for_openmpi <span style="color: #009900">WITH_MPI</span><span style="color: #990000">=</span><span style="color: #993399">1</span> install</tt></pre></div></div>
<div class="paragraph"><p>To run the flow over a cylinder simulation with dissociating nitrogen:</p></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>mkdir <span style="color: #009900">$HOME</span>/work/elmer<span style="color: #993399">2</span><span style="color: #990000">;</span> cd <span style="color: #009900">$HOME</span>/work/elmer<span style="color: #993399">2</span>
mkdir tim1<span style="color: #990000">;</span> cd tim1
cp <span style="color: #009900">$HOME</span>/cfcfd<span style="color: #993399">2</span>/examples/elmer<span style="color: #993399">2</span>/tim<span style="color: #993399">1</span><span style="color: #990000">/*</span> <span style="color: #990000">.</span>
<span style="color: #990000">.</span>/prepare_thermo_files<span style="color: #990000">.</span>sh
qsub cyl_run<span style="color: #990000">.</span>sh</tt></pre></div></div>
<h3 id="_eilmer3">Eilmer3</h3><div style="clear:left"></div>
<div class="paragraph"><p>The new 2D/3D code Eilmer3 is built much more like mbcns2 but
has a new installation directory $HOME/e3bin/.
A typical build procedure (using the default TARGET=for_gnu) might be:</p></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cd <span style="color: #009900">$HOME</span>/cfcfd<span style="color: #993399">2</span>/app/eilmer<span style="color: #993399">3</span>/build
make install
make clean</tt></pre></div></div>
<div class="paragraph"><p>Or, if you want the MPI version of the code built as well:</p></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cd <span style="color: #009900">$HOME</span>/cfcfd<span style="color: #993399">2</span>/app/eilmer<span style="color: #993399">3</span>/build
make <span style="color: #009900">TARGET</span><span style="color: #990000">=</span>for_openmpi install
make clean</tt></pre></div></div>
<div class="paragraph"><p>You may need to add the installation directory to your system&#8217;s
search path and to Lua&#8217;s search path.
On a recent Linux system, this could be done by adding the lines</p></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">export</span></span> <span style="color: #009900">PATH</span><span style="color: #990000">=</span><span style="color: #009900">${PATH}:${HOME}</span>/e3bin
<span style="font-weight: bold"><span style="color: #0000FF">export</span></span> <span style="color: #009900">LUA_PATH</span><span style="color: #990000">=</span><span style="color: #009900">${HOME}</span>/e3bin<span style="color: #990000">/?.</span>lua
<span style="font-weight: bold"><span style="color: #0000FF">export</span></span> <span style="color: #009900">LUA_CPATH</span><span style="color: #990000">=</span><span style="color: #009900">${HOME}</span>/e3bin<span style="color: #990000">/?.</span>so</tt></pre></div></div>
<div class="paragraph"><p>to the .bash_profile or .profile file in your home directory.
(Note that it is not necessary to have the LUA_CPATH variable set
unless you want to access the Lua gas module from within
the user-defined (Lua) functions.
You don&#8217;t need it to run Eilmer3 otherwise.)</p></div>
<div class="paragraph"><p>For running on the blackhole cluster, also add the following:</p></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>module load openmpi<span style="color: #990000">/</span><span style="color: #993399">1.2</span>-gnu-<span style="color: #993399">4.1</span>
module load swig</tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">Do NOT load lua as was done in the example for Elmer2.</td>
</tr></table>
</div>
<div class="paragraph"><p>Then, try out the cone20-simple example.</p></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>mkdir <span style="color: #009900">$HOME</span>/work<span style="color: #990000">;</span> cd <span style="color: #009900">$HOME</span>/work<span style="color: #990000">;</span> mkdir 2D<span style="color: #990000">;</span> cd 2D
mkdir cone20-simple<span style="color: #990000">;</span> cd cone20-simple
cp <span style="color: #009900">$HOME</span>/cfcfd<span style="color: #993399">2</span>/examples/eilmer<span style="color: #993399">3</span><span style="color: #990000">/</span>2D/cone<span style="color: #993399">20</span>-simple<span style="color: #990000">/*</span> <span style="color: #990000">.</span>
<span style="color: #990000">.</span>/cone20_run<span style="color: #990000">.</span>sh  <span style="font-style: italic"><span style="color: #9A1900"># exercise the shared-memory version of the code</span></span>
       or
<span style="color: #990000">.</span>/cone20_run_mpi<span style="color: #990000">.</span>sh  <span style="font-style: italic"><span style="color: #9A1900"># exercise the MPI version of the code</span></span></tt></pre></div></div>
<div class="paragraph"><p>This should generate a postscript figure of the drag coefficient history
about a sharp 20-degree cone and also put the VTK data file into the plot/
subdirectory.
It is not really necessary to make all of the subdirectories as shown above,
however, that arrangement reflects the directory tree that PJ uses.
If you want him to come and look at your simulation files when things go wrong,
use the same.
If not, use whatever hierarchy you like.</p></div>
</div>
<h2 id="_other_notes">Other Notes</h2>
<div class="sectionbody">
<div class="paragraph"><div class="title">On Xserver for Linux (especially Ubuntu)</div><p>If Paraview crashes on exporting a bitmap image, try adding the line</p></div>
<div class="exampleblock">
<div class="exampleblock-content"><!-- Generator: GNU source-highlight 3.1.4
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Option <span style="color: #FF0000">"AIGLX"</span> <span style="color: #FF0000">"false"</span></tt></pre></div></div>
<div class="paragraph"><p>to the Section "ServerLayout" in /etc/X11/xorg.conf</p></div>
<div class="paragraph"><div class="title">To use Paraview 3.6.1 on Ubuntu 9.04 or later,</div><p>it seems that we need to customize the look of the desktop
by turning off the Visual Effects.
This setting can be found in the System&#8594;Preferences&#8594;Appearance menu.</p></div>
<div class="paragraph"><div class="title">To get Paraview Screenshot to behave,</div><p>uncheck "Use Offscreen Rendering for Screenshots" button
in the Edit&#8594;Settings ("Options") dialog.
You will find the checkbutton under "Render View"&#8594;General.</p></div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2011-11-15 16:17:55 EST
</div>
</div>
</body>
</html>
